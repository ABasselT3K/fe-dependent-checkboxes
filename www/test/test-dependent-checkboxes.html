<html>
    <head>
        <meta charset="utf-8">
        <title>Mocha Tests</title>
        <link rel="stylesheet" href="mocha.css">
    </head>
    <body>
        <div id="mocha"></div>
        <script src="mocha.js"></script>
        <script src="chai.js"></script>

        <script>
            if (!Function.prototype.bind) {
              Function.prototype.bind = function (oThis) {
                if (typeof this !== "function") {
                  // closest thing possible to the ECMAScript 5 internal IsCallable function
                  throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
                }
                var aArgs = Array.prototype.slice.call(arguments, 1),
                    fToBind = this,
                    fNOP = function () {},
                    fBound = function () {
                      return fToBind.apply(this instanceof fNOP && oThis
                                             ? this
                                             : oThis,
                                           aArgs.concat(Array.prototype.slice.call(arguments)));
                    };
                fNOP.prototype = this.prototype;
                fBound.prototype = new fNOP();
                return fBound;
              };
            }
            mocha.setup('bdd')
            mocha.reporter('html');
        </script>

        <div id="dependent-checkboxes">
            <h1>Dependent Checkboxes</h1>

            <p><label class="checkbox"><input type="checkbox" class="check-all"> Check all</label></p>
            <div class="column">
                <label class="checkbox"><input type="checkbox" data-group="cat1"> Category 1</label>
                <ul>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat1"> Item</label></li>
                </ul>
            </div>
            <div class="column">
                <label class="checkbox"><input type="checkbox" data-group="cat2"> Category 2</label>
                <ul>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat2"> Item</label></li>
                </ul>
            </div>
            <div class="column">
                <label class="checkbox"><input type="checkbox" data-group="cat3"> Category 3</label>
                <ul>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                    <li><label class="checkbox"><input type="checkbox" data-category="cat3"> Item</label></li>
                </ul>
            </div>
        </div>

        <script src="../bower/jquery/dist/jquery.js"></script>
        <script src="../js/babel/browser-polyfill.min.js"></script>
        <script src="../js/dependent-checkboxes-es2015.js"></script>
        <script>
            var dependentCheckboxes = new DependentCheckboxes(document.getElementById('dependent-checkboxes'));
        </script>

        <!-- Tests -->
        <script src="test-dependent-checkboxes.js"></script>

        <script>
            // Only tests run in real browser, injected script run if options.run == true
            if (navigator.userAgent.indexOf('PhantomJS') < 0) {
                mocha.run();
            }
        </script>
    </body>
</html>
